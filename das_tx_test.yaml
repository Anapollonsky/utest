global:
  interface: bci
  username: lucent
  password: password
  vars:
    tx_freq: 300000
    waveform: "LTE_5MHz_1Carrier.bin"    

# Set synth
cmd: 
  send: "/pltf/txPath/fpgawrite 0x206 0x5000"
  expect: SUCCESS

# ensure lock
cmd:
  send: /pltf/txPath/pllStatus
  expect:
    - "ext synth 1 is locked"
    - "ext synth 2 is locked"

# set tx lo
cmd:
  send: /pltf/txPath/setLoFreq 0 tx_freq
  expect: OK

# set tx attenuation (vva and roc)  
cmd:
  # around 400 (vva)
  send: "/pltf/txPath/setAttn 4 400"
  expect: OK

cmd:
  # around 80 (roc)
  send: "/pltf/txPath/setAttn 1 80"
  expect: OK

# Load waveform and play
cmd:
  interface: ftp
  address: 135.112.98.252
  username: andrew
  password: password
  get: waveform

cmd:
  interface: ftp
  username: lucent
  password: password
  rcwd: /tmp/
  put: waveform

cmd:
  send: "/pltf/bsp/loadfpgasram waveform 3 0x0"
  expect: "filename"
  
global:
  interface: bci
  username: lucent
  password: password
  expect: SUCCESS
  
cmd:
  send: /pltf/txpath/fpgawrite 0x18 0x0
cmd:
  send: /pltf/txpath/fpgawrite 0x19 0x0f1f
cmd:
  send: /pltf/txpath/fpgawrite 0xc 0xF00
cmd:
  send: /pltf/txpath/fpgawrite 0x1f 0x0c24
cmd:
  send: /pltf/txpath/fpgawrite 0x1e 0xffff
cmd:
  send: /pltf/txpath/fpgawrite 0x10 0x2004
cmd:
  send: /pltf/txpath/fpgawrite 0x11 0x2D34
cmd:
  send: /pltf/txpath/fpgawrite 0x0 0x4077
