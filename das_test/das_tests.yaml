## DAS Tests
# Collection of tests to test DAS board, to be fed into GUT.

global:
  - &vars
    vars:
      TX_FREQ_SMALL: 751
      TX_FREQ_LARGE: 751000
      VVA_ATTEN: 75
      TXROC_ATTEN: 300
      TXTEST_WAVE: "lte5MHz_122p88_minus18dBFs.bin"
      TXTEST_BW: 10 # MHz
      TXPOW_LIM: 10 # dBm
      RX_FREQ_SMALL: 800
      RX_FREQ_LARGE: 800000
      RX_BW: 10
      RX_FILE: rx_capture.bin
      SRX_ATTEN: 255
      SRXFWD_LIM: -50
      SRXOFF_LIM: -45
      SRX_FILE: random_filename

  - &mxa
    type: command
    interface: mxa
    address: 135.112.98.43
    <<: *vars

  - &bci
    type: command
    interface: bci
    address: 135.112.98.16
    username: lucent
    password: password
    <<: *vars

  - &bcis
    <<: *bci
    expect: SUCCESS

  - &bcio
    <<: *bci
    expect: OK 

  - &bftp
    type: command
    interface: ftp
    username: lucent
    password: password
    address: 135.112.98.16
    <<: *vars

do:
  - type: message
    message: "Beginning BCI Checks..."
    level: 4

  - type: include
    include: das_bci_checks.yaml
    
  - type: message
    message: "Beginning TX Test..."
    level: 4
    
  - type: include
    include: das_tx_test.yaml

  - type: message
    message: "Beginning SRX Test..."
    level: 4
    
  - type: include
    include: das_tx_test.yaml

  - type: message
    message: "Beginning RX Test..."
    level: 4

  - type: include
    include: das_rx_test.yaml


